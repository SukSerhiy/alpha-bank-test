{"version":3,"sources":["actions/setPhotos.js","actionTypes.js","actions/setMorePhotos.js","actions/setAlbumId.js","actions/setSearchStr.js","actions/setPage.js","api/photos/api.getPhotos.js","api/photos/api.getAlbumById.js","components/Item/index.js","components/Item/Item.jsx","components/PhotoInfoAlert/PhotoInfoAlert.jsx","components/PhotoInfoAlert/index.js","components/LoadMore/index.js","components/LoadMore/LoadMore.jsx","components/Gallery/index.js","components/Gallery/Gallery.jsx","constants/index.js","containers/GaleryContainer/GaleryContainer.jsx","containers/GaleryContainer/index.js","api/albums/api.getAlbums.js","components/Controls/Filter/index.js","components/Controls/Filter/Filter.jsx","components/Controls/SearchStr/index.js","components/Controls/SearchStr/SearchStr.jsx","components/Controls/index.js","components/Controls/Controls.jsx","containers/ControlsContainer/ControlsContainer.jsx","containers/ControlsContainer/index.js","App.js","reducers/rootReducer.js","reducers/photosReducer.js","reducers/albumIdReducer.js","reducers/searchStrReducer.js","reducers/pageReducer.js","store.js","index.js"],"names":["setPhotos","payload","dispatch","type","setMorePhotos","setAlbumId","setSearchStr","setPage","getPhotos","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","params","finalUrl","res","wrap","_context","prev","next","keys","filter","k","reduce","url","p","i","arr","urlPart","value","concat","encodeURIComponent","length","fetch","sent","json","abrupt","stop","_x","apply","this","arguments","api_getAlbumById","id","Item","props","_props$item","item","title","thumbnailUrl","react_default","createElement","className","alt","src","onMouseDown","showInfo","onMouseLeave","hideInfo","TIME_OF_HIDING","renerInfoRow","text","PhotoInfoAlert","state","albumId","isShowed","loading","show","photoInfo","album","clearTimeout","_this","timerId","getAlbumById","setState","objectSpread","hide","setTimeout","react","Component","LoadMore","setStateAsync","Promise","resolve","loadData","icon","es5","onClick","Gallery","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","photoInfoRef","current","React","createRef","_this2","_this$props","photos","loadMorePhotos","map","photo","key","components_Item","components_PhotoInfoAlert","ref","components_LoadMore","COUNT_ON_PAGE","GaleryContainer","resetPage","getMorePhotos","_callee2","page","searchStr","nextPage","_context2","limit","components_Gallery","connect","_state$toJS","toJS","getAlbums","Filter","loadOptions","queryString","cb","queryAutocomplete","albums","options","label","onChange","opt","onSelect","Async_default","placeholder","isClearable","defaultOptions","SearchStr","str","onKeyPress","e","console","log","inputRef","blur","onEnter","append","Controls","onFilterSelect","onSearchEnter","Controls_Filter","Controls_SearchStr","ControlsContainer","setSearchString","_args2","undefined","prevProps","components_Controls","App","containers_ControlsContainer","containers_GaleryContainer","combineReducers","List","action","initState","Immutable","fromJS","ReactDOM","render","es","store","initialState","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","configureStore","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.963a31c1.chunk.js","sourcesContent":["import { SET_PHOTOS } from '../actionTypes'\r\n\r\nconst setPhotos = payload => dispatch => {\r\n  dispatch({\r\n    type: SET_PHOTOS,\r\n    payload\r\n  });\r\n}\r\n\r\nexport default setPhotos;","export const SET_PHOTOS = 'SET_PHOTOS';\r\nexport const SET_MORE_PHOTOS = 'SET_MORE_PHOTOS';\r\nexport const SET_ALBUM_ID = 'SET_ALBUM_ID';\r\nexport const SET_SEARCH_STR = 'SET_SEARCH_STR';\r\nexport const SET_PAGE = 'SET_PAGE';","import { SET_MORE_PHOTOS } from '../actionTypes'\r\n\r\nconst setMorePhotos = payload => dispatch => {\r\n  dispatch({\r\n    type: SET_MORE_PHOTOS,\r\n    payload\r\n  });\r\n}\r\n\r\nexport default setMorePhotos;","import { SET_ALBUM_ID } from '../actionTypes';\r\n\r\nconst setAlbumId = payload => dispatch => {\r\n  dispatch({\r\n    type: SET_ALBUM_ID,\r\n    payload\r\n  });\r\n}\r\n\r\nexport default setAlbumId;","import { SET_SEARCH_STR } from '../actionTypes';\r\n\r\nconst setSearchStr = payload => dispatch => {\r\n  dispatch({\r\n    type: SET_SEARCH_STR,\r\n    payload\r\n  });\r\n}\r\n\r\nexport default setSearchStr;","import { SET_PAGE } from '../actionTypes';\r\n\r\nconst setPage = payload => dispatch => {\r\n  dispatch({\r\n    type: SET_PAGE,\r\n    payload\r\n  });\r\n}\r\n\r\nexport default setPage;","/**\r\n * Fetch photos from https://jsonplaceholder.typicode.com\r\n * @param {Object} params - Params of fetching \r\n * @param {number|string} params.page - Page number\r\n * @param {number|string} params.limit - Conut of records\r\n * @param {string} params.searchStr - Text fragment for full-text search\r\n * @param {number|string} params.albumId - albumId parameter for searching photo\r\n */\r\n\r\nconst getPhotos =  async (params) => {\r\n  const finalUrl = Object.keys(params)\r\n  .filter(k => params[k] !== null)\r\n  .reduce((url, p, i, arr) => {\r\n    let urlPart = '';\r\n    if (i === 0) {\r\n      urlPart += '?';\r\n    }\r\n    const value = params[p];\r\n    \r\n    if (p === 'page') {\r\n      urlPart += `_page=${value}`;\r\n    } else if (p === 'limit') {\r\n      urlPart += `_limit=${value}`;\r\n    } else if (p === 'searchStr') {\r\n      urlPart += `q=${encodeURIComponent(value)}`;\r\n    } else if (p === 'albumId') {\r\n      urlPart += `albumId=${value}`\r\n    }\r\n    if (i < arr.length - 1) {\r\n      urlPart += '&';\r\n    }\r\n    return url + urlPart;\r\n  }, 'https://jsonplaceholder.typicode.com/photos');\r\n  const res = await fetch(finalUrl);\r\n  return await res.json();\r\n}\r\n\r\nexport default getPhotos;","export default async (id) => {\r\n  const res = await fetch(`https://jsonplaceholder.typicode.com/albums/${id}`);\r\n  return await res.json();\r\n}","import Item from './Item';\r\n\r\nexport default Item;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Item = props => {\r\n  const { item: { title, thumbnailUrl } } = props;\r\n\r\n  const _onMouseDown = () => {\r\n    const { item, showInfo } = props;\r\n    showInfo(item);\r\n  }\r\n\r\n  const _onMouseLeave = () => {\r\n    const { hideInfo } = props;\r\n    hideInfo();\r\n  }\r\n\r\n  return (\r\n    <div className='gallery-item'>\r\n      <img alt={title} src={thumbnailUrl}></img>\r\n      <div className='note'>\r\n        <span>{title}</span>\r\n      </div>\r\n      <div className='overlay'>\r\n        <div \r\n          className='info-icon' \r\n          onMouseDown={_onMouseDown}\r\n          onMouseLeave={_onMouseLeave}\r\n        >\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nItem.propTypes = {\r\n  item: PropTypes.shape({\r\n    albumId: PropTypes.number,\r\n    id: PropTypes.number,\r\n    title: PropTypes.string,\r\n    url: PropTypes.string,\r\n    thumbnailUrl: PropTypes.string\r\n  }),\r\n  showInfo: PropTypes.func,\r\n  hideInfo: PropTypes.func\r\n};\r\n\r\nexport default Item;","import React, { Component, Fragment } from 'react';\r\nimport { getAlbumById } from '../../api/photos';\r\nimport './style.css';\r\n\r\nconst TIME_OF_HIDING = 2000;\r\n\r\nconst renerInfoRow = (title, text) => (\r\n  <div>\r\n    <span>{title}: </span>\r\n    <span>{text}</span>\r\n  </div>\r\n);\r\n\r\nclass PhotoInfoAlert extends Component {\r\n  state = {\r\n    title: null,\r\n    albumId: null,\r\n    isShowed: false,\r\n    loading: false\r\n  };\r\n\r\n  show = async (photoInfo) => {\r\n    clearTimeout(this.timerId);\r\n    const { albumId } = photoInfo;\r\n    const album = await getAlbumById(albumId);\r\n    this.setState({\r\n      photoInfo: { ...photoInfo, album: album.title },\r\n      isShowed: true\r\n    });\r\n  }\r\n\r\n  hide = () => {\r\n    this.timerId = setTimeout(() => {\r\n      this.setState({\r\n        photoInfo: null,\r\n        isShowed: false\r\n      })\r\n    }, TIME_OF_HIDING);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.timerId);\r\n  }\r\n\r\n  render() {\r\n    const { photoInfo } = this.state;\r\n    return (\r\n      <Fragment>\r\n        {this.state.isShowed && (<div id='photo-info-alert'>\r\n          {renerInfoRow('Title', photoInfo.title)}\r\n          {renerInfoRow('Album', photoInfo.album)}\r\n        </div>)}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default PhotoInfoAlert;","import PhotoInfoAlert from './PhotoInfoAlert';\r\n\r\nexport default PhotoInfoAlert;","import LoadMore from './LoadMore';\r\n\r\nexport default LoadMore;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'element-react';\r\nimport './style.css';\r\n\r\nclass LoadMore extends Component {\r\n  static propTypes = {\r\n    loadData: PropTypes.func\r\n  };\r\n\r\n  state = {\r\n    loading: false\r\n  }\r\n\r\n  setStateAsync = (state) => (\r\n    new Promise((resolve) => {\r\n      this.setState(state, resolve)\r\n    })\r\n  )\r\n\r\n  loadData = async () => {\r\n    const { loadData } = this.props;\r\n    await this.setStateAsync({ loading: true });\r\n    await loadData();\r\n    await this.setStateAsync({ loading: false });\r\n  }\r\n\r\n  render() {\r\n    const icon = this.state.loading ? 'loading' : null;\r\n    return (\r\n      <div className='load-more'>\r\n        <Button \r\n          icon={icon}\r\n          onClick={this.loadData}\r\n        >\r\n          Load more\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoadMore;","import Gallery from './Gallery';\r\n\r\nexport default Gallery;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Item from '../Item';\r\nimport PhotoInfoAlert from '../PhotoInfoAlert';\r\nimport LoadMore from '../LoadMore';\r\nimport './style.css';\r\n\r\nclass Gallery extends Component {\r\n  static propTypes = {\r\n    photos: PropTypes.array,\r\n    loadMorePhotos: PropTypes.func\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.photoInfoRef = React.createRef();\r\n  }\r\n\r\n  showInfo = (photoInfo) => {\r\n    this.photoInfoRef.current.show(photoInfo);\r\n  }\r\n\r\n  hideInfo = () => {\r\n    this.photoInfoRef.current.hide();\r\n  }\r\n\r\n  render() {\r\n    const { photos, loadMorePhotos } = this.props;\r\n    return (<div className='gallery'>\r\n    <div className='gallery-items'>\r\n        {photos.map((photo, key) => (\r\n        <Item \r\n            key={key} \r\n            showInfo={this.showInfo} \r\n            hideInfo={this.hideInfo}\r\n            item={photo} \r\n          />))}\r\n        </div>\r\n      <PhotoInfoAlert ref={this.photoInfoRef} />\r\n      <LoadMore loadData={loadMorePhotos} />\r\n    </div>)\r\n  }\r\n}\r\n\r\nexport default Gallery;\r\n","export const COUNT_ON_PAGE = 32;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setPhotos, setMorePhotos, setPage } from '../../actions';\r\nimport { getPhotos } from '../../api/photos';\r\nimport Gallery from '../../components/Gallery';\r\nimport { COUNT_ON_PAGE } from '../../constants';\r\n\r\nclass GaleryContainer extends Component {\r\n  componentDidMount() {\r\n    const { page } = this.props;\r\n    this.getPhotos({ page, limit: COUNT_ON_PAGE });\r\n  }\r\n\r\n  getPhotos = async (params) => {\r\n    const { setPhotos } = this.props;\r\n    this.resetPage();\r\n    const photos = await getPhotos(params);\r\n    setPhotos(photos);\r\n  }\r\n\r\n  resetPage = () => {\r\n    const { setPage } = this.props;\r\n    setPage(1);\r\n  }\r\n\r\n  getMorePhotos = async () => {\r\n    const { page, setMorePhotos, setPage, albumId, searchStr } = this.props;\r\n    debugger;\r\n    const nextPage = page + 1;\r\n    setPage(nextPage);\r\n    const photos = await getPhotos({ page: nextPage, limit: COUNT_ON_PAGE, albumId, searchStr });\r\n    setMorePhotos(photos);\r\n  }\r\n\r\n  render() {\r\n    const { photos } = this.props;\r\n    return (<Gallery \r\n      photos={photos}  \r\n      loadMorePhotos={this.getMorePhotos}\r\n    />);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const { photos, page, albumId, searchStr } = state.toJS();\r\n  return { photos, page, albumId, searchStr };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setPhotos: payload => dispatch(setPhotos(payload)),\r\n  setMorePhotos: payload => dispatch(setMorePhotos(payload)),\r\n  setPage: payload => dispatch(setPage(payload))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(GaleryContainer)","import GaleryContainer from './GaleryContainer';\r\n\r\nexport default GaleryContainer;","/**\r\n * Fetch albums from https://jsonplaceholder.typicode.com\r\n * @param {Object} params - Params of fetching \r\n * @param {number|string} params.page - Page number\r\n * @param {number|string} params.limit - Conut of records\r\n * @param {string} params.searchStr - Text fragment for full-text search\r\n */\r\n\r\nconst getAlbums =  async (params) => {\r\n  const finalUrl = Object.keys(params)\r\n    .filter(k => params[k] !== null)\r\n    .reduce((url, p, i, arr) => {\r\n      let urlPart = '';\r\n      if (i === 0) {\r\n        urlPart += '?';\r\n      }\r\n      const value = params[p];\r\n      if (p === 'page') {\r\n        urlPart += `_page=${value}`;\r\n      } else if (p === 'limit') {\r\n        urlPart += `_limit=${value}`;\r\n      } else if (p === 'searchStr') {\r\n        urlPart += `q=${encodeURIComponent(value)}`;\r\n      }\r\n      if (i < arr.length - 1) {\r\n        urlPart += '&';\r\n      }\r\n      return url + urlPart;\r\n    }, 'https://jsonplaceholder.typicode.com/albums');\r\n  const res = await fetch(finalUrl);\r\n  return await res.json();\r\n}\r\n\r\nexport default getAlbums;","import Filter from './Filter';\r\n\r\nexport default Filter;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AsyncSelect from 'react-select/lib/Async';\r\n\r\nclass Controls extends Component {\r\n  static propTypes = {\r\n    queryAutocomplete: PropTypes.func,\r\n    onSelect: PropTypes.func\r\n  };\r\n\r\n  loadOptions = async (queryString, cb) => {\r\n    const { queryAutocomplete } = this.props;\r\n    const albums = await queryAutocomplete(queryString || '');\r\n    const options = albums.map(a => ({ label: a.title, value: a.id }));\r\n    cb(options);\r\n  }\r\n\r\n  onChange = opt => {\r\n    const { onSelect } = this.props;\r\n    onSelect(opt ? opt.value : null);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='filter'>\r\n        <AsyncSelect \r\n          placeholder='Album'\r\n          loadOptions={this.loadOptions}\r\n          onChange={this.onChange}\r\n          isClearable\r\n          defaultOptions\r\n        />\r\n      </div>)\r\n  }\r\n}\r\n\r\nexport default Controls;\r\n\r\n","import SearchStr from './SearchStr';\r\n\r\nexport default SearchStr;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Input, Button } from 'element-react';\r\n\r\nclass SearchStr extends Component {\r\n  static propTypes = {\r\n    onEnter: PropTypes.func\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.inputRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    value: null\r\n  };\r\n\r\n  onChange = str => {\r\n    this.setState({ value: str });\r\n  }\r\n\r\n  onKeyPress = e => {\r\n    console.log(e.key);\r\n    if (e.key === 'Enter') {\r\n      this.inputRef.current.blur();\r\n      this.onEnter();\r\n    }\r\n  }\r\n\r\n  onEnter = () => {\r\n    const { onEnter } = this.props;\r\n    const { value } = this.state;\r\n    onEnter(value);\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    return (<Input \r\n      ref={this.inputRef}\r\n      placeholder='Search'\r\n      value={value}\r\n      onChange={this.onChange} \r\n      onKeyPress={this.onKeyPress}\r\n      append={(\r\n        <Button \r\n          type='primary' \r\n          icon='search' \r\n          onClick={this.onEnter} \r\n        >\r\n          Search\r\n        </Button>)}\r\n    />)\r\n  }\r\n}\r\n\r\nexport default SearchStr;","import Controls from './Controls';\r\n\r\nexport default Controls;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Filter from './Filter';\r\nimport SearchStr from './SearchStr';\r\n\r\nconst Controls = props => {\r\n  const { queryAutocomplete, onFilterSelect, onSearchEnter } = props;\r\n  return (\r\n    <div className='controls'>\r\n      <Filter \r\n        queryAutocomplete={queryAutocomplete}\r\n        onSelect={onFilterSelect}\r\n      />\r\n      <div className='search-input'>\r\n        <SearchStr onEnter={onSearchEnter} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nControls.propTypes = {\r\n  queryAutocomplete: PropTypes.func,\r\n  onFilterSelect: PropTypes.func,\r\n  onSearchEnter: PropTypes.func\r\n};\r\n\r\nexport default Controls;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setPhotos, setAlbumId, setSearchStr } from '../../actions';\r\nimport { getPhotos } from '../../api/photos';\r\nimport { getAlbums } from '../../api/albums';\r\nimport Controls from '../../components/Controls';\r\n\r\nclass ControlsContainer extends Component {\r\n\r\n  setAlbumId = (albumId) => {\r\n    const { setAlbumId } = this.props;\r\n    setAlbumId(albumId);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.searchStr !== this.props.searchStr) {\r\n      this.getPhotos();\r\n    }\r\n    if (prevProps.albumId !== this.props.albumId) {\r\n      this.getPhotos();\r\n    }\r\n  }\r\n\r\n  setSearchString = (str) => {\r\n    const { setSearchStr } = this.props;\r\n    setSearchStr(str);\r\n  }\r\n\r\n  getPhotos = async () => {\r\n    const { setPhotos, searchStr, albumId } = this.props;\r\n    const photos = await getPhotos({ page: 1, limit: 10, searchStr, albumId });\r\n    setPhotos(photos);\r\n  }\r\n\r\n  getAlbums = async (searchStr = '') => {\r\n    const albums = await getAlbums({ page: 1, limit: 10, searchStr });\r\n    return albums;\r\n  }\r\n\r\n  render() {\r\n    return (<Controls\r\n      queryAutocomplete={this.getAlbums} \r\n      onFilterSelect={this.setAlbumId} \r\n      onSearchEnter={this.setSearchString}\r\n    />);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  const { photos, albumId, searchStr } = state.toJS();\r\n  return { photos, albumId, searchStr };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  setPhotos: payload => dispatch(setPhotos(payload)),\r\n  setAlbumId: payload => dispatch(setAlbumId(payload)),\r\n  setSearchStr: payload => dispatch(setSearchStr(payload))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ControlsContainer)","import ControlsContainer from './ControlsContainer';\r\n\r\nexport default ControlsContainer;","import React from 'react';\r\nimport GaleryContainer from './containers/GaleryContainer';\r\nimport ControlsContainer from './containers/ControlsContainer';\r\nimport './App.css';\r\n\r\nconst App = props => {\r\n  return (<main>\r\n    <ControlsContainer />\r\n    <GaleryContainer />\r\n  </main>)\r\n}\r\n\r\nexport default App;","import { combineReducers } from 'redux-immutable';\r\nimport photos from './photosReducer';\r\nimport albumId from './albumIdReducer';\r\nimport searchStr from './searchStrReducer';\r\nimport page from './pageReducer';\r\n\r\nexport default combineReducers({\r\n  photos,\r\n  albumId,\r\n  searchStr,\r\n  page\r\n});","import { List } from 'immutable';\r\nimport { SET_PHOTOS, SET_MORE_PHOTOS } from '../actionTypes';\r\n\r\nexport default (state = List([]), action) => {\r\n  const photos = action.payload || [];\r\n  switch (action.type) {\r\n    case SET_PHOTOS:\r\n      return List(photos);\r\n    case SET_MORE_PHOTOS:\r\n      return state.concat(List(photos));\r\n    default:\r\n      return state;\r\n  }\r\n}","import { SET_ALBUM_ID } from '../actionTypes';\r\n\r\nexport default (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_ALBUM_ID:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","import { SET_SEARCH_STR } from '../actionTypes';\r\n\r\nexport default (state = null, action) => {\r\n  switch (action.type) {\r\n    case SET_SEARCH_STR:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","import { SET_PAGE } from '../actionTypes';\r\n\r\nexport default (state = 1, action) => {\r\n  switch (action.type) {\r\n    case SET_PAGE:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}","import { createStore, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers/rootReducer';\r\nimport Immutable from 'immutable';\r\n\r\nconst initState = Immutable.fromJS({\r\n  photos: [],\r\n  page: 1,\r\n  albumId: null,\r\n  searchStr: null,\r\n});\r\n\r\nexport default function configureStore(initialState = initState) {\r\n  return createStore(\r\n    rootReducer,\r\n    initialState,\r\n    composeWithDevTools(\r\n      applyMiddleware(thunk)\r\n    )\r\n  );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport configureStore from './store';\r\nimport { Provider } from 'react-redux';\r\nimport 'element-theme-default';\r\n\r\nReactDOM.render(\r\n  (<Provider store={configureStore()}>\r\n    <App />\r\n  </Provider>), \r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}